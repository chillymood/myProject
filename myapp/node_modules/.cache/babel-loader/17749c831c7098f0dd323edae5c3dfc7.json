{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chill\\\\myapp\\\\src\\\\TodoList.js\";\nimport React, { Component } from \"react\";\nimport \"antd/dist/antd.css\";\nimport store from \"./store\";\nimport { getInputValueAction, getAddItemAction, getDeleteItemAction, getIn } from \"./store/actionCreator.js\";\nimport TodoListUI from \"./TodoListUI\";\nimport axios from \"axios\";\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = store.getState();\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleStoreChange = this.handleStoreChange.bind(this);\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n    this.handleDeleteItem = this.handleDeleteItem.bind(this); //只要store的state改變就觸發\n\n    store.subscribe(this.handleStoreChange);\n  }\n\n  componentDidMount() {\n    axios.get('https://datacenter.taichung.gov.tw/swagger/OpenData/e11041cd-34bf-49a5-996f-e4e094754acc').then(res => {\n      console.log(res.data);\n      const data = res.data;\n      const action = getInitDataAction(data);\n    });\n  }\n\n  handleInputChange(e) {\n    const action = getInputValueAction(e.target.value);\n    store.dispatch(action);\n  }\n\n  handleStoreChange() {\n    this.setState(store.getState());\n  }\n\n  handleButtonClick() {\n    const action = getAddItemAction(this.state.value);\n    store.dispatch(action);\n  }\n\n  handleDeleteItem(index) {\n    const action = getDeleteItemAction(index);\n    store.dispatch(action);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(TodoListUI, {\n      inputValue: this.state.inputValue,\n      list: this.state.list,\n      handleInputChange: this.handleInputChange,\n      handleButtonClick: this.handleButtonClick,\n      andleDeleteItem: this.handleDeleteItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    });\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["C:/Users/chill/myapp/src/TodoList.js"],"names":["React","Component","store","getInputValueAction","getAddItemAction","getDeleteItemAction","getIn","TodoListUI","axios","TodoList","constructor","props","state","getState","handleInputChange","bind","handleStoreChange","handleButtonClick","handleDeleteItem","subscribe","componentDidMount","get","then","res","console","log","data","action","getInitDataAction","e","target","value","dispatch","setState","index","render","inputValue","list"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,oBAAP;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,mBAAT,EAA8BC,gBAA9B,EAAgDC,mBAAhD,EAAoEC,KAApE,QAAiF,0BAAjF;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAIA,MAAMC,QAAN,SAAuBR,SAAvB,CAAiC;AAC/BS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAaV,KAAK,CAACW,QAAN,EAAb;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKE,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBF,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKG,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBH,IAAtB,CAA2B,IAA3B,CAAxB,CANiB,CAOjB;;AACAb,IAAAA,KAAK,CAACiB,SAAN,CAAgB,KAAKH,iBAArB;AACD;;AAEDI,EAAAA,iBAAiB,GAAG;AAClBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,0FAAV,EAAsGC,IAAtG,CAA2GC,GAAG,IAAI;AAChHC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACA,YAAMA,IAAI,GAAGH,GAAG,CAACG,IAAjB;AACA,YAAMC,MAAM,GAAGC,iBAAiB,CAACF,IAAD,CAAhC;AACD,KAJD;AASD;;AAGDZ,EAAAA,iBAAiB,CAACe,CAAD,EAAI;AACnB,UAAMF,MAAM,GAAGxB,mBAAmB,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlC;AACE7B,IAAAA,KAAK,CAAC8B,QAAN,CAAeL,MAAf;AACH;;AAEDX,EAAAA,iBAAiB,GAAG;AAClB,SAAKiB,QAAL,CAAc/B,KAAK,CAACW,QAAN,EAAd;AACD;;AAEDI,EAAAA,iBAAiB,GAAG;AAClB,UAAMU,MAAM,GAAGvB,gBAAgB,CAAC,KAAKQ,KAAL,CAAWmB,KAAZ,CAA/B;AACA7B,IAAAA,KAAK,CAAC8B,QAAN,CAAeL,MAAf;AAED;;AACDT,EAAAA,gBAAgB,CAACgB,KAAD,EAAQ;AACtB,UAAMP,MAAM,GAAGtB,mBAAmB,CAAC6B,KAAD,CAAlC;AAEAhC,IAAAA,KAAK,CAAC8B,QAAN,CAAeL,MAAf;AACD;;AAECQ,EAAAA,MAAM,GAAG;AACL,wBACE,oBAAC,UAAD;AACE,MAAA,UAAU,EAAE,KAAKvB,KAAL,CAAWwB,UADzB;AAEE,MAAA,IAAI,EAAE,KAAKxB,KAAL,CAAWyB,IAFnB;AAGE,MAAA,iBAAiB,EAAE,KAAKvB,iBAH1B;AAIE,MAAA,iBAAiB,EAAE,KAAKG,iBAJ1B;AAKC,MAAA,eAAe,EAAE,KAAKC,gBALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAQH;;AAtD4B;;AAyDjC,eAAeT,QAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport store from \"./store\"\r\nimport { getInputValueAction, getAddItemAction, getDeleteItemAction,getIn } from \"./store/actionCreator.js\"\r\nimport TodoListUI from \"./TodoListUI\"\r\nimport axios from \"axios\"\r\n\r\n\r\n\r\nclass TodoList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = store.getState()\r\n    this.handleInputChange = this.handleInputChange.bind(this)\r\n    this.handleStoreChange = this.handleStoreChange.bind(this)\r\n    this.handleButtonClick = this.handleButtonClick.bind(this)\r\n    this.handleDeleteItem = this.handleDeleteItem.bind(this)\r\n    //只要store的state改變就觸發\r\n    store.subscribe(this.handleStoreChange)\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get('https://datacenter.taichung.gov.tw/swagger/OpenData/e11041cd-34bf-49a5-996f-e4e094754acc').then(res => {\r\n      console.log(res.data)\r\n      const data = res.data\r\n      const action = getInitDataAction(data)\r\n    }\r\n    )\r\n    \r\n    \r\n    \r\n  }\r\n\r\n\r\n  handleInputChange(e) {\r\n    const action = getInputValueAction(e.target.value)\r\n      store.dispatch(action)\r\n  }\r\n\r\n  handleStoreChange() {\r\n    this.setState(store.getState())\r\n  }\r\n\r\n  handleButtonClick() {\r\n    const action = getAddItemAction(this.state.value)\r\n    store.dispatch(action)\r\n\r\n  }\r\n  handleDeleteItem(index) {\r\n    const action = getDeleteItemAction(index)\r\n    \r\n    store.dispatch(action)\r\n  }\r\n\r\n    render() {\r\n        return (\r\n          <TodoListUI\r\n            inputValue={this.state.inputValue}\r\n            list={this.state.list}\r\n            handleInputChange={this.handleInputChange}\r\n            handleButtonClick={this.handleButtonClick}\r\n           andleDeleteItem={this.handleDeleteItem}/>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TodoList"]},"metadata":{},"sourceType":"module"}