{"ast":null,"code":"import axios from\"axios\";import*as constants from\"./constants\";import{fromJS}from\"immutable\";axios.defaults.withCredentials=true;export var changeHomeData=function changeHomeData(result){return{type:constants.CHANGE_HOME_DATA,// topicItem: result.topicItem,\narticleList:result// recommendList: result.recommendList,\n};};export var addHomeList=function addHomeList(list,nextPage){return{type:constants.ADD_HOME_LIST,list:fromJS(list),nextPage:nextPage};};export var changeScrollTopShow=function changeScrollTopShow(){return{type:constants.CHANGE_SCROLL_TOP_SHOW};};export var toggleTopShow=function toggleTopShow(show){return{type:constants.TOGGLE_SCROLL_TOP,show:show};};export var getHomeInfo=function getHomeInfo(){return function(dispatch){axios.get(\"http://35.229.221.230:3000/comment/list?filter=1\").then(function(response){var result=response.data.data;var action=changeHomeData(result);dispatch(action);});};};export var delArticle=function delArticle(id){return function(dispatch){axios.defaults.withCredentials=true;axios.post(\"http://35.229.221.230:3000/comment/del\",{_id:id}).then(function(response){axios.get(\"http://35.229.221.230:3000/comment/list?filter=1\").then(function(response){var result=response.data.data;console.log(result);var action=changeHomeData(result);dispatch(action);});});};};","map":{"version":3,"sources":["C:/Users/chill/OneDrive/桌面/Project/myapp/src/pages/home/store/actionCreators.js"],"names":["axios","constants","fromJS","defaults","withCredentials","changeHomeData","result","type","CHANGE_HOME_DATA","articleList","addHomeList","list","nextPage","ADD_HOME_LIST","changeScrollTopShow","CHANGE_SCROLL_TOP_SHOW","toggleTopShow","show","TOGGLE_SCROLL_TOP","getHomeInfo","dispatch","get","then","response","data","action","delArticle","id","post","_id","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,aAA3B,CACA,OAASC,MAAT,KAAuB,WAAvB,CAEAF,KAAK,CAACG,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAGA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,MAAD,QAAa,CACzCC,IAAI,CAAEN,SAAS,CAACO,gBADyB,CAEzC;AACAC,WAAW,CAAEH,MACb;AAJyC,CAAb,EAAvB,CAOP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAMC,QAAN,QAAoB,CAC7CL,IAAI,CAAEN,SAAS,CAACY,aAD6B,CAE7CF,IAAI,CAAET,MAAM,CAACS,IAAD,CAFiC,CAG7CC,QAAQ,CAARA,QAH6C,CAApB,EAApB,CAMP,MAAO,IAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,SAAO,CACxCP,IAAI,CAAEN,SAAS,CAACc,sBADwB,CAAP,EAA5B,CAQP,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,QAAW,CACtCV,IAAI,CAAEN,SAAS,CAACiB,iBADsB,CAEtCD,IAAI,CAAJA,IAFsC,CAAX,EAAtB,CAMP,MAAO,IAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC/B,MAAO,UAACC,QAAD,CAAc,CACfpB,KAAK,CAACqB,GAAN,CAAU,kDAAV,EACGC,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,GAAMjB,CAAAA,MAAM,CAAGiB,QAAQ,CAACC,IAAT,CAAcA,IAA7B,CACA,GAAMC,CAAAA,MAAM,CAAGpB,cAAc,CAACC,MAAD,CAA7B,CACAc,QAAQ,CAACK,MAAD,CAAR,CACD,CALH,EAMH,CAPH,CAQD,CATM,CAWP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CAChC,MAAO,UAACP,QAAD,CAAc,CACnBpB,KAAK,CAACG,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CACAJ,KAAK,CAAC4B,IAAN,CAAW,wCAAX,CAAqD,CACnDC,GAAG,CAACF,EAD+C,CAArD,EAEGL,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAClBvB,KAAK,CACFqB,GADH,CACO,kDADP,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAMjB,CAAAA,MAAM,CAAGiB,QAAQ,CAACC,IAAT,CAAcA,IAA7B,CACAM,OAAO,CAACC,GAAR,CAAYzB,MAAZ,EACA,GAAMmB,CAAAA,MAAM,CAAGpB,cAAc,CAACC,MAAD,CAA7B,CACAc,QAAQ,CAACK,MAAD,CAAR,CACD,CAPH,EAQD,CAXD,EAYD,CAdD,CAeD,CAhBM","sourcesContent":["import axios from \"axios\";\r\nimport * as constants from \"./constants\"\r\nimport { fromJS } from \"immutable\"\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\nexport const changeHomeData = (result) => ({\r\n  type: constants.CHANGE_HOME_DATA,\r\n  // topicItem: result.topicItem,\r\n  articleList: result,\r\n  // recommendList: result.recommendList,\r\n});\r\n\r\nexport const addHomeList = (list,nextPage) => ({\r\n  type: constants.ADD_HOME_LIST,\r\n  list: fromJS(list),\r\n  nextPage\r\n})\r\n\r\nexport const changeScrollTopShow = () => ({\r\n  type: constants.CHANGE_SCROLL_TOP_SHOW,\r\n})\r\n\r\n\r\n\r\n\r\n\r\nexport const toggleTopShow = (show) => ({\r\n  type: constants.TOGGLE_SCROLL_TOP,\r\n  show\r\n})\r\n\r\n\r\nexport const getHomeInfo = () => {\r\n  return (dispatch) => {\r\n        axios.get(\"http://35.229.221.230:3000/comment/list?filter=1\")\r\n          .then((response) => {\r\n            const result = response.data.data;\r\n            const action = changeHomeData(result);\r\n            dispatch(action);\r\n          }); \r\n    }\r\n}\r\n\r\nexport const delArticle = (id) => {\r\n  return (dispatch) => {\r\n    axios.defaults.withCredentials = true;\r\n    axios.post(\"http://35.229.221.230:3000/comment/del\", {\r\n      _id:id,\r\n    }).then(response => {\r\n      axios\r\n        .get(\"http://35.229.221.230:3000/comment/list?filter=1\")\r\n        .then((response) => {\r\n          const result = response.data.data;\r\n          console.log(result);\r\n          const action = changeHomeData(result);\r\n          dispatch(action);\r\n        }); \r\n    })\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}