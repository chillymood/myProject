{"ast":null,"code":"import axios from \"axios\";\nimport * as constants from \"./constants\";\nimport { fromJS } from \"immutable\";\naxios.defaults.withCredentials = true;\nexport const changeHomeData = result => ({\n  type: constants.CHANGE_HOME_DATA,\n  topicItem: result.topicItem,\n  articleList: result,\n  recommendList: result.recommendList\n});\nexport const addHomeList = (list, nextPage) => ({\n  type: constants.ADD_HOME_LIST,\n  list: fromJS(list),\n  nextPage\n});\nexport const changeScrollTopShow = () => ({\n  type: constants.CHANGE_SCROLL_TOP_SHOW\n});\nexport const getMoreList = page => {\n  return dispatch => {\n    axios.get(\"/api/homeList.json?page=\" + page).then(response => {\n      const result = response.data.data;\n      console.log(result);\n      const action = addHomeList(result, page + 1);\n      dispatch(action);\n    });\n  };\n};\nexport const toggleTopShow = show => ({\n  type: constants.TOGGLE_SCROLL_TOP,\n  show\n});\nexport const getHomeInfo = () => {\n  return dispatch => {\n    axios.get(\"http://35.229.221.230:3000/comment/list?filter=1\").then(response => {\n      const result = response.data.data;\n      console.log(result);\n      const action = changeHomeData(result);\n      dispatch(action);\n    });\n  };\n};\nexport const delArticle = id => {\n  return dispatch => {\n    axios.defaults.withCredentials = true;\n    axios.post(\"http://35.229.221.230:3000/comment/del\", {\n      _id: id\n    }).then(response => {\n      dispatch(changeHomeData(result));\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/chill/OneDrive/桌面/Project/myapp/src/pages/home/store/actionCreators.js"],"names":["axios","constants","fromJS","defaults","withCredentials","changeHomeData","result","type","CHANGE_HOME_DATA","topicItem","articleList","recommendList","addHomeList","list","nextPage","ADD_HOME_LIST","changeScrollTopShow","CHANGE_SCROLL_TOP_SHOW","getMoreList","page","dispatch","get","then","response","data","console","log","action","toggleTopShow","show","TOGGLE_SCROLL_TOP","getHomeInfo","delArticle","id","post","_id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEAF,KAAK,CAACG,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAGA,OAAO,MAAMC,cAAc,GAAIC,MAAD,KAAa;AACzCC,EAAAA,IAAI,EAAEN,SAAS,CAACO,gBADyB;AAEzCC,EAAAA,SAAS,EAAEH,MAAM,CAACG,SAFuB;AAGzCC,EAAAA,WAAW,EAAEJ,MAH4B;AAIzCK,EAAAA,aAAa,EAAEL,MAAM,CAACK;AAJmB,CAAb,CAAvB;AAOP,OAAO,MAAMC,WAAW,GAAG,CAACC,IAAD,EAAMC,QAAN,MAAoB;AAC7CP,EAAAA,IAAI,EAAEN,SAAS,CAACc,aAD6B;AAE7CF,EAAAA,IAAI,EAAEX,MAAM,CAACW,IAAD,CAFiC;AAG7CC,EAAAA;AAH6C,CAApB,CAApB;AAMP,OAAO,MAAME,mBAAmB,GAAG,OAAO;AACxCT,EAAAA,IAAI,EAAEN,SAAS,CAACgB;AADwB,CAAP,CAA5B;AAMP,OAAO,MAAMC,WAAW,GAAIC,IAAD,IAAU;AACnC,SAAQC,QAAD,IAAc;AACnBpB,IAAAA,KAAK,CAACqB,GAAN,CAAU,6BAA6BF,IAAvC,EAA6CG,IAA7C,CAAmDC,QAAD,IAAc;AAC9D,YAAMjB,MAAM,GAAGiB,QAAQ,CAACC,IAAT,CAAcA,IAA7B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYpB,MAAZ;AACA,YAAMqB,MAAM,GAAGf,WAAW,CAACN,MAAD,EAAQa,IAAI,GAAC,CAAb,CAA1B;AACAC,MAAAA,QAAQ,CAACO,MAAD,CAAR;AACD,KALD;AAMD,GAPD;AAQD,CATM;AAWP,OAAO,MAAMC,aAAa,GAAIC,IAAD,KAAW;AACtCtB,EAAAA,IAAI,EAAEN,SAAS,CAAC6B,iBADsB;AAEtCD,EAAAA;AAFsC,CAAX,CAAtB;AAMP,OAAO,MAAME,WAAW,GAAG,MAAM;AAC/B,SAAQX,QAAD,IAAc;AACfpB,IAAAA,KAAK,CAACqB,GAAN,CAAU,kDAAV,EACGC,IADH,CACSC,QAAD,IAAc;AAClB,YAAMjB,MAAM,GAAGiB,QAAQ,CAACC,IAAT,CAAcA,IAA7B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYpB,MAAZ;AACA,YAAMqB,MAAM,GAAGtB,cAAc,CAACC,MAAD,CAA7B;AACAc,MAAAA,QAAQ,CAACO,MAAD,CAAR;AACD,KANH;AAOH,GARH;AASD,CAVM;AAYP,OAAO,MAAMK,UAAU,GAAIC,EAAD,IAAQ;AAChC,SAAQb,QAAD,IAAc;AACnBpB,IAAAA,KAAK,CAACG,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAJ,IAAAA,KAAK,CAACkC,IAAN,CAAW,wCAAX,EAAqD;AACnDC,MAAAA,GAAG,EAACF;AAD+C,KAArD,EAEGX,IAFH,CAEQC,QAAQ,IAAI;AAClBH,MAAAA,QAAQ,CAACf,cAAc,CAACC,MAAD,CAAf,CAAR;AACD,KAJD;AAKD,GAPD;AAQD,CATM","sourcesContent":["import axios from \"axios\";\r\nimport * as constants from \"./constants\"\r\nimport { fromJS } from \"immutable\"\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\n\r\nexport const changeHomeData = (result) => ({\r\n  type: constants.CHANGE_HOME_DATA,\r\n  topicItem: result.topicItem,\r\n  articleList: result,\r\n  recommendList: result.recommendList,\r\n});\r\n\r\nexport const addHomeList = (list,nextPage) => ({\r\n  type: constants.ADD_HOME_LIST,\r\n  list: fromJS(list),\r\n  nextPage\r\n})\r\n\r\nexport const changeScrollTopShow = () => ({\r\n  type: constants.CHANGE_SCROLL_TOP_SHOW,\r\n})\r\n\r\n\r\n\r\nexport const getMoreList = (page) => {\r\n  return (dispatch) => {\r\n    axios.get(\"/api/homeList.json?page=\" + page).then((response) => {\r\n      const result = response.data.data;\r\n      console.log(result)\r\n      const action = addHomeList(result,page+1);\r\n      dispatch(action);\r\n    });\r\n  };\r\n}\r\n\r\nexport const toggleTopShow = (show) => ({\r\n  type: constants.TOGGLE_SCROLL_TOP,\r\n  show\r\n})\r\n\r\n\r\nexport const getHomeInfo = () => {\r\n  return (dispatch) => {\r\n        axios.get(\"http://35.229.221.230:3000/comment/list?filter=1\")\r\n          .then((response) => {\r\n            const result = response.data.data;\r\n            console.log(result)\r\n            const action = changeHomeData(result);\r\n            dispatch(action);\r\n          }); \r\n    }\r\n}\r\n\r\nexport const delArticle = (id) => {\r\n  return (dispatch) => {\r\n    axios.defaults.withCredentials = true;\r\n    axios.post(\"http://35.229.221.230:3000/comment/del\", {\r\n      _id:id,\r\n    }).then(response => {\r\n      dispatch(changeHomeData(result));\r\n    })\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}