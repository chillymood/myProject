{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\chill\\\\OneDrive\\\\\\u684C\\u9762\\\\Project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\chill\\\\OneDrive\\\\\\u684C\\u9762\\\\Project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\chill\\\\OneDrive\\\\\\u684C\\u9762\\\\Project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\chill\\\\OneDrive\\\\\\u684C\\u9762\\\\Project\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{PureComponent,Fragment}from\"react\";import{ListItem,ListInfo,LoadMore,AuthorInfo}from\"../style\";import{connect}from\"react-redux\";import{actionCreators}from\"../store\";import{Link}from\"react-router-dom\";var List=/*#__PURE__*/function(_PureComponent){_inherits(List,_PureComponent);var _super=_createSuper(List);function List(){_classCallCheck(this,List);return _super.apply(this,arguments);}_createClass(List,[{key:\"handleScrollTop\",value:function handleScrollTop(){window.scrollTo(0,0);}},{key:\"render\",value:function render(){var _this$props=this.props,list=_this$props.list,login=_this$props.login,account=_this$props.account,delArticle=_this$props.delArticle;return/*#__PURE__*/React.createElement(Fragment,null,list.map(function(item,index){return/*#__PURE__*/React.createElement(ListItem,null,/*#__PURE__*/React.createElement(\"img\",{alt:\"\",className:\"pic\",src:item.get(\"imageUrl\")}),/*#__PURE__*/React.createElement(Link,{key:index,to:\"./detail/\"+item.get(\"_id\")},/*#__PURE__*/React.createElement(ListInfo,null,/*#__PURE__*/React.createElement(\"h3\",{className:\"title\"},item.get(\"title\")),/*#__PURE__*/React.createElement(\"p\",{className:\"desc\"},item.get(\"content\")))),/*#__PURE__*/React.createElement(AuthorInfo,null,/*#__PURE__*/React.createElement(\"span\",{className:\"author\"},/*#__PURE__*/React.createElement(\"span\",{className:\"iconfont\"},\"\\uE624\"),item.get(\"username\")),/*#__PURE__*/React.createElement(\"span\",{className:\"time\"},item.get(\"createdAt\").slice(11,19)),/*#__PURE__*/React.createElement(\"span\",{className:\"date\"},item.get(\"createdAt\").slice(0,10)+\"-\"),login&&item.get(\"username\")===account?/*#__PURE__*/React.createElement(\"span\",{className:\"del\",onClick:function onClick(){delArticle(item.get(\"_id\"));}},\"\\u522A\\u9664\\u6587\\u7AE0\"):null));}),/*#__PURE__*/React.createElement(LoadMore,{onClick:this.handleScrollTop},\"\\u56DE\\u5230\\u9802\\u90E8\"));}}]);return List;}(PureComponent);var mapStateToProps=function mapStateToProps(state){return{list:state.getIn([\"home\",\"articleList\"]),login:state.getIn([\"login\",\"login\"]),account:state.getIn([\"login\",\"account\"])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{delArticle:function delArticle(id){dispatch(actionCreators.delArticle(id));}};};export default connect(mapStateToProps,mapDispatchToProps)(List);","map":{"version":3,"sources":["C:/Users/chill/OneDrive/桌面/Project/myapp/src/pages/home/components/List.js"],"names":["React","PureComponent","Fragment","ListItem","ListInfo","LoadMore","AuthorInfo","connect","actionCreators","Link","List","window","scrollTo","props","list","login","account","delArticle","map","item","index","get","slice","handleScrollTop","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from \"react\";\r\nimport { ListItem, ListInfo, LoadMore, AuthorInfo } from \"../style\";\r\nimport { connect } from \"react-redux\";\r\nimport { actionCreators } from \"../store\"\r\nimport { Link} from \"react-router-dom\"\r\n\r\nclass List extends PureComponent {\r\n  handleScrollTop() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n  render() {\r\n    const {\r\n      list,\r\n      login,\r\n      account,   \r\n      delArticle,\r\n    } = this.props;\r\n    return (\r\n      <Fragment>\r\n        \r\n        {list.map((item, index) => {\r\n          return (\r\n            <ListItem>\r\n              <img alt=\"\" className=\"pic\" src={item.get(\"imageUrl\")}></img>\r\n              <Link key={index} to={\"./detail/\" + item.get(\"_id\")}>\r\n                <ListInfo>\r\n                  <h3 className=\"title\">{item.get(\"title\")}</h3>\r\n                  <p className=\"desc\">{item.get(\"content\")}</p>\r\n                </ListInfo>\r\n              </Link>\r\n              <AuthorInfo>\r\n                <span className=\"author\">\r\n                  <span className=\"iconfont\">&#xe624;</span>\r\n                  {item.get(\"username\")}\r\n                </span>\r\n\r\n                <span className=\"time\">\r\n                  {item.get(\"createdAt\").slice(11, 19)}\r\n                </span>\r\n                <span className=\"date\">\r\n                  {item.get(\"createdAt\").slice(0, 10) + \"-\"}\r\n                </span>\r\n\r\n                {login && item.get(\"username\") === account ? (\r\n                  <span\r\n                    className=\"del\"\r\n                    onClick={() => {\r\n                      delArticle(item.get(\"_id\"));\r\n                    }}\r\n                  >\r\n                    刪除文章\r\n                  </span>\r\n                ) : null}\r\n              </AuthorInfo>\r\n            </ListItem>\r\n          );\r\n        })}\r\n\r\n        <LoadMore onClick={this.handleScrollTop}>回到頂部</LoadMore>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  list: state.getIn([\"home\", \"articleList\"]),\r\n  login: state.getIn([\"login\", \"login\"]),\r\n  account: state.getIn([\"login\",\"account\"])\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  delArticle(id) {\r\n    dispatch(actionCreators.delArticle(id));\r\n  },\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\r\n"]},"metadata":{},"sourceType":"module"}