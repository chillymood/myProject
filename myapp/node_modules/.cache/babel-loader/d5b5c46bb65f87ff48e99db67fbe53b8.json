{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\chill\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\chill\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\chill\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\chill\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\chill\\\\myapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import{HomeWrapper,HomeLeft,HomeRight}from'./style';import List from'./components/List';import Topic from'./components/Topic';import Writer from'./components/Writer';import Recommend from'./components/Recommend';import{connect}from'react-redux';import{actionCreators}from'./store';import{BackTop}from'./style';var Home=/*#__PURE__*/function(_PureComponent){_inherits(Home,_PureComponent);var _super=_createSuper(Home);function Home(){_classCallCheck(this,Home);return _super.apply(this,arguments);}_createClass(Home,[{key:\"handleScrollTop\",value:function handleScrollTop(){window.scrollTo(0,0);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(HomeWrapper,null,/*#__PURE__*/React.createElement(HomeLeft,null,/*#__PURE__*/React.createElement(\"img\",_defineProperty({alt:\"\",className:\"banner-img\",src:\"https://scontent.ftpe4-2.fna.fbcdn.net/v/t1.0-9/119928261_3504183522977112_6727443703106507929_o.jpg?_nc_cat=109&_nc_sid=730e14&_nc_ohc=1raVg3eQrgUAX9oWkrw&_nc_ht=scontent.ftpe4-2.fna&oh=12fcb73213597a45232c7ca695ba3e64&oe=5F972BDB\"},\"alt\",\"\")),/*#__PURE__*/React.createElement(Topic,null),/*#__PURE__*/React.createElement(List,null)),/*#__PURE__*/React.createElement(HomeRight,null,/*#__PURE__*/React.createElement(Recommend,null),/*#__PURE__*/React.createElement(Writer,null)),this.props.showScroll?/*#__PURE__*/React.createElement(BackTop,{onClick:this.handleScrollTop},\"\\u56DE\\u5230\\u9802\\u90E8\"):null);}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.changeHomeData();this.bindEvents();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"scroll\",this.props.changeScrollTopShow);}},{key:\"bindEvents\",value:function bindEvents(){window.addEventListener('scroll',this.props.changeScrollTopShow);}}]);return Home;}(PureComponent);var mapStateToProps=function mapStateToProps(state){return{showScroll:state.getIn([\"home\",\"showScroll\"])};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{changeHomeData:function changeHomeData(){dispatch(actionCreators.getHomeInfo());},changeScrollTopShow:function changeScrollTopShow(){if(document.documentElement.scrollTop>50){dispatch(actionCreators.toggleTopShow(true));}else{dispatch(actionCreators.toggleTopShow(false));}}};};export default connect(mapStateToProps,mapDispatchToProps)(Home);","map":{"version":3,"sources":["C:/Users/chill/myapp/src/pages/home/index.js"],"names":["React","PureComponent","HomeWrapper","HomeLeft","HomeRight","List","Topic","Writer","Recommend","connect","actionCreators","BackTop","Home","window","scrollTo","props","showScroll","handleScrollTop","changeHomeData","bindEvents","removeEventListener","changeScrollTopShow","addEventListener","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","getHomeInfo","document","documentElement","scrollTop","toggleTopShow"],"mappings":"itBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,KAAqC,OAArC,CACA,OAASC,WAAT,CAAsBC,QAAtB,CAAgCC,SAAhC,KAAiD,SAAjD,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,KAA+B,SAA/B,CACA,OAAQC,OAAR,KAAsB,SAAtB,C,GAEMC,CAAAA,I,8PAEc,CAChBC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACD,C,uCAEQ,CACP,mBACE,oBAAC,WAAD,mBACE,oBAAC,QAAD,mBACE,2CACE,GAAG,CAAC,EADN,CAEE,SAAS,CAAC,YAFZ,CAGE,GAAG,CAAC,yOAHN,QAIM,EAJN,EADF,cAOE,oBAAC,KAAD,MAPF,cAQE,oBAAC,IAAD,MARF,CADF,cAWE,oBAAC,SAAD,mBACE,oBAAC,SAAD,MADF,cAEE,oBAAC,MAAD,MAFF,CAXF,CAeG,KAAKC,KAAL,CAAWC,UAAX,cAAwB,oBAAC,OAAD,EAAS,OAAO,CAAE,KAAKC,eAAvB,6BAAxB,CAAiF,IAfpF,CADF,CAoBD,C,6DACmB,CAClB,KAAKF,KAAL,CAAWG,cAAX,GACA,KAAKC,UAAL,GACD,C,mEAEsB,CACrBN,MAAM,CAACO,mBAAP,CAA2B,QAA3B,CAAoC,KAAKL,KAAL,CAAWM,mBAA/C,EACD,C,+CAEY,CACXR,MAAM,CAACS,gBAAP,CAAwB,QAAxB,CAAiC,KAAKP,KAAL,CAAWM,mBAA5C,EACD,C,kBAvCgBpB,a,EA2CnB,GAAMsB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClCR,UAAU,CAAEQ,KAAK,CAACC,KAAN,CAAY,CAAC,MAAD,CAAQ,YAAR,CAAZ,CADsB,CAAZ,EAAxB,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CAEtCT,cAFsC,0BAErB,CACfS,QAAQ,CAACjB,cAAc,CAACkB,WAAf,EAAD,CAAR,CACH,CAJuC,CAMxCP,mBANwC,+BAMlB,CACpB,GAAIQ,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAqC,EAAzC,CAA6C,CAC3CJ,QAAQ,CAACjB,cAAc,CAACsB,aAAf,CAA6B,IAA7B,CAAD,CAAR,CACD,CAFD,IAEO,CACLL,QAAQ,CAACjB,cAAc,CAACsB,aAAf,CAA6B,KAA7B,CAAD,CAAR,CACD,CACA,CAZqC,CAAf,EAA3B,CAeA,cAAevB,CAAAA,OAAO,CAACc,eAAD,CAAkBG,kBAAlB,CAAP,CAA6Cd,IAA7C,CAAf","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport { HomeWrapper, HomeLeft, HomeRight } from './style'\r\nimport List from './components/List'\r\nimport Topic from './components/Topic'\r\nimport Writer from './components/Writer'\r\nimport Recommend from './components/Recommend'\r\nimport { connect } from 'react-redux'\r\nimport { actionCreators } from './store'\r\nimport {BackTop} from './style'\r\n\r\nclass Home extends PureComponent {\r\n\r\n  handleScrollTop() {\r\n    window.scrollTo(0, 0)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <HomeWrapper>\r\n        <HomeLeft>\r\n          <img\r\n            alt=\"\"\r\n            className=\"banner-img\"\r\n            src=\"https://scontent.ftpe4-2.fna.fbcdn.net/v/t1.0-9/119928261_3504183522977112_6727443703106507929_o.jpg?_nc_cat=109&_nc_sid=730e14&_nc_ohc=1raVg3eQrgUAX9oWkrw&_nc_ht=scontent.ftpe4-2.fna&oh=12fcb73213597a45232c7ca695ba3e64&oe=5F972BDB\"\r\n            alt=\"\"\r\n          ></img>\r\n          <Topic></Topic>\r\n          <List></List>\r\n        </HomeLeft>\r\n        <HomeRight>\r\n          <Recommend></Recommend>\r\n          <Writer></Writer>\r\n        </HomeRight>\r\n        {this.props.showScroll ? <BackTop onClick={this.handleScrollTop}>回到頂部</BackTop> : null}\r\n       \r\n      </HomeWrapper>\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    this.props.changeHomeData();\r\n    this.bindEvents();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\",this.props.changeScrollTopShow)\r\n  }\r\n\r\n  bindEvents() {\r\n    window.addEventListener('scroll',this.props.changeScrollTopShow)\r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  showScroll: state.getIn([\"home\",\"showScroll\"])\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  \r\n    changeHomeData() {\r\n      dispatch(actionCreators.getHomeInfo())\r\n  },\r\n  \r\n  changeScrollTopShow() {\r\n    if (document.documentElement.scrollTop > 50) {\r\n      dispatch(actionCreators.toggleTopShow(true))\r\n    } else {\r\n      dispatch(actionCreators.toggleTopShow(false))\r\n    }\r\n    }\r\n  })\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n"]},"metadata":{},"sourceType":"module"}